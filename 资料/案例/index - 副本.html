<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>React App</title>
  </head>
  <body>
<div>

</div>
 
 <script>
    //  let times = [
    //      '2018-5-14 20:00:00', '2018-5-15 02:00:00', '2018-5-15 08:00:00', '2018-5-16 03:00:00'
    //  ]
    //
    //  let oneHour = 60 * 60 * 1000;
    //
    //  let now = new Date(times[0]);
    //  let max = new Date(times[times.length - 1]);
    //
    //  let result = [];
    //  while (!(max < now)) {
    //      result.push(now)
    //      now = new Date(now.getTime() + oneHour);
    //  }
    //
    //  console.log(result)
    //
    let arr=[14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,11];
    console.log(arr);
    for (let i=0;i<arr.length;i++){
        if (arr[i]<10){
            arr[i]="0"+arr[i];
        }
    };
    let count=[1260, 1489, 1475, 1406, 1429, 1484, 1406, 1479, 1480, 1470, 1453, 1447, 1466, 1475, 1481, 1506, 1444, 1489, 1539, 1710, 1496, 426];
    console.log(count);
     function completion(ar) {
         var date = new Date();
         var year = date.getFullYear();  //获取年
         var month = date.getMonth() + 1; //获取月
         var day = date.getDate(); //获取日
         if (month < 10) {
             month = "0" + month;
         }
         if (day < 10) {
             day = "0" + day;
         }
         let today = year + "-" + month + "-" + day;  //今天
         let Yesterday = year + "-" + month + "-" + (day-1);  //昨天
         let arr=[];
         arr[0]=ar[ar.length-1]+1;
         arr[1]="00";
         arr[2]=ar[ar.length-1];
         console.log(arr);
         let fge= arr.indexOf('00');  //找到指定项的索引
         for (let i=0;i<fge;i++){
             arr[i]=Yesterday+" "+arr[i]+":00:00"
         }
         for (let i=fge;i<arr.length;i++){
             arr[i]=today+" "+arr[i]+":00:00"
         }
         let oneHour = 60 * 60 * 1000;

         let now = new Date(arr[0]);
         console.log(now)
         let max = new Date(arr[arr.length - 1]);
         console.log(max)
         let result = [];
         while (!(max < now)) {
             result.push(now)
             now = new Date(now.getTime() + oneHour);
         }
         // JS格式化Thu May 12 2017 08:00:00 GMT+0800 (中国标准时间)转换  配合checkTime函数
         let zx=[];
         for (let i=0;i<result.length;i++){
             zx[i] =result[i].getFullYear() + '-' + (result[i].getMonth() + 1) + '-' + result[i].getDate() + ' ' + checkTime(result[i].getHours()) + ':' + checkTime(result[i].getMinutes()) + ':' + checkTime(result[i].getSeconds());
         }
         return zx
     }
    function checkTime(i){
        if (i<10){
            i="0" + i
        }
        return i;
    }

    console.log(completion(arr)) ;
    let aee=completion(arr);
    console.log(aee[12].substring(11,13));
    let zhi=[];
     for (let i=0;i<arr.length;i++){
         for (let t=0;t<aee.length;t++){
             if (arr[i]==aee[t].substring(11, 13)){
                 console.log(t);
                 zhi[t]=count[i]
             }
         }
     }
    console.log(zhi[0]);
     for (let i=0;i<zhi.length;i++){
         if (zhi[i]==undefined){
            zhi[i]=0
         }
     }
    console.log(zhi);
 </script>
  </body>
</html>
